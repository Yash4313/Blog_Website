{% extends 'base.html' %} 
{% block content %}
<div class="container-fluid">
  <div class="row min-vh-100">
    {% include 'dashboard/sidebar.html' %}

    <!-- ================= MAIN CONTENT ================= -->

    <main class="col-12 col-md-9 col-lg-10 p-4">


      <!-- ================= CATEGORIES TABLE ================= -->

      <a href="{% url 'add_category' %}" class="btn btn-primary mb-3">Add Category</a>
      <div class="card mb-4 shadow-sm">
        <div class="card-header fw-semibold">Categories</div>

        <div class="card-body p-0">
          <div class="table-responsive">
            <table class="table table-striped mb-0">
              <thead class="table-dark">
                <tr>
                  <th>#</th>

                  <th>Name</th>

                  <th>Total Posts</th>

                  <th>Created At</th>

                  <th>Updated At</th>

                  <th>Actions</th>
                </tr>
              </thead>

              <tbody>
                {% if categories %}
                {% for category in categories %}

                <tr>
                  <td>{{ forloop.counter }}</td>

                  <td>{{ category.category_name }}</td>

                  <td>{{ category.post_set.count }}</td>

                  <td>{{ category.created_at }}</td>

                  <td>{{ category.updated_at }}</td>

                  <td>
                        <a href="{% url 'edit_category' category.id %}"><i class="fa fa-edit text-primary me-3" style="cursor: pointer;"></i></a>
                        &nbsp;
                        <a href="{% url 'delete_category' category.id %}"><i class="fa fa-trash text-danger" style="cursor: pointer;"></i></a>
                  </td>
                </tr>

                {% endfor %} 
                {% else %}

                <tr>
                  <td colspan="5" class="text-center">
                    No categories available.
                  </td>
                </tr>

                {% endif %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </main>
  </div>
</div>
{% endblock %}
